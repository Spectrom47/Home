<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Home - Spectrom Universe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="stars"></div>

<div class="content">
    <h1>Spectrom</h1>
    <p class="subtitle">Welcome to my Domain!</p>

    <div class="toolbar">
        <button id="like-btn" class="like-btn" aria-pressed="false" title="Like Spectrom">
            <span class="heart">❤</span>
            <span id="like-count">0</span>
        </button>
        <button id="widgets-open-btn" class="nav-button widgets-button" title="Open Widgets">Open Widgets ▾</button>
    </div>

    <div class="card">
        <h2>Community</h2>
        <a href="https://discord.gg/k2hBkDSdUV" target="_blank">Join the Discord</a>
        <a href="https://www.youtube.com/@Dark_Spectrom" target="_blank">YouTube Channel</a>
        <a href="https://www.roblox.com/communities/35685387/Soulspire-Community#!/about" target="_blank">Roblox Community</a>
    </div>

    <a class="nav-button" href="lore.html">Enter The Lore →</a>
</div>

<!-- Widgets modal (single-entry subfolder for interactive widgets) -->
<div id="widgets-modal" class="widgets-modal hidden" role="dialog" aria-hidden="true">
  <div class="widgets-overlay" id="widgets-overlay"></div>
  <div class="widgets-panel">
    <button class="widgets-close" id="widgets-close" aria-label="Close widgets">✕</button>
    <h3>Interactive Widgets</h3>
    <div class="widgets-menu">
      <button class="widget-tab active" data-widget="calculator">Calculator</button>
      <button class="widget-tab" data-widget="bills">Bills & Net</button>
      <button class="widget-tab" data-widget="worm">Worm Game</button>
      <button class="widget-tab" data-widget="gallery">Gallery</button>
    </div>

    <div class="widgets-content">
      <section id="widget-calculator" class="widget active">
        <input id="calc-display" class="calc-display" placeholder="Type expression — e.g. 12 + 3*4" />
        <div class="calc-controls">
          <button data-insert="7">7</button><button data-insert="8">8</button><button data-insert="9">9</button><button data-action="clear">C</button>
          <button data-insert="4">4</button><button data-insert="5">5</button><button data-insert="6">6</button><button data-insert="+">+</button>
          <button data-insert="1">1</button><button data-insert="2">2</button><button data-insert="3">3</button><button data-insert="-">-</button>
          <button data-insert="0">0</button><button data-insert=".">.</button><button data-insert="/">/</button><button data-insert="*">*</button>
        </div>
        <div class="calc-actions">
          <button id="calc-eval" class="btn">Evaluate</button>
          <button id="calc-clear" class="btn btn-ghost">Reset</button>
          <div id="calc-result" class="calc-result" aria-live="polite"></div>
        </div>
      </section>

      <section id="widget-bills" class="widget hidden">
        <div class="bills-controls">
          <div id="bills-list"></div>
          <div class="bills-add">
            <input id="bill-name" type="text" placeholder="Bill name (e.g. Rent)" />
            <input id="bill-amount" type="number" placeholder="Bill amount" />
            <button id="add-bill" class="btn">Add Bill</button>
            <button id="sample-bills" class="btn btn-ghost">Add Sample</button>
          </div> 
          <div class="bills-summary">
            <div>Total bills: <strong id="bills-total">$0.00</strong></div>
            <label>Monthly net salary:
              <input id="monthly-salary" type="number" placeholder="e.g. 3000" />
            </label>
            <div>Monthly remainder: <strong id="monthly-remainder">$0.00</strong></div>
            <div>Projected yearly savings: <strong id="yearly-savings">$0.00</strong></div>
            <div class="bills-actions">
              <button id="save-bills" class="btn">Save</button>
              <button id="clear-bills" class="btn btn-ghost">Clear</button>
            </div>
          </div>
        </div>
      </section>

      <section id="widget-worm" class="widget hidden">
        <div class="worm-canvas-wrap">
          <canvas id="worm-canvas" width="360" height="360"></canvas>
          <div class="worm-demo" id="worm-demo" aria-hidden="true">
            <div class="demo-label">Preview</div>
            <div class="demo-bar" aria-hidden="true"><div id="worm-demo-progress" class="demo-progress" style="width:0%"></div></div>
            <div id="worm-demo-percent" class="demo-percent">0%</div>
          </div>
        </div>
        <div class="worm-controls">
          <div>Score: <span id="worm-score">0</span></div>
          <div class="worm-buttons">
            <button id="worm-start" class="btn">Start</button>
            <button id="worm-pause" class="btn btn-ghost">Pause</button>
            <button id="worm-reset" class="btn btn-ghost">Reset</button>
          </div>
        </div>
      </section>

      <section id="widget-gallery" class="widget hidden">
        <div class="gallery-controls">
          <div class="gallery-grid" id="gallery-grid"></div>
          <div class="gallery-add">
            <input id="gallery-input" placeholder="image filename or URL (e.g. ICOn.png)" />
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <button id="gallery-add-btn" class="btn">Add Image</button>
              <button id="gallery-refresh-btn" class="btn btn-ghost">Refresh from repo</button>
              <button id="gallery-reset-btn" class="btn btn-ghost">Reset to defaults</button>
            </div>
          </div>
          <div class="gallery-hint"><small>Click a thumbnail to preview. Relative filenames are resolved from /images/</small></div>
        </div>
        <div id="gallery-lightbox" class="gallery-lightbox hidden" role="dialog" aria-hidden="true"><img id="gallery-lightbox-img" alt="preview"/></div>
      </section>
    </div>

    <footer class="widgets-footer">
      <small>Stored locally — no data leaves your browser.</small>
    </footer>
  </div>
</div>

<script src="main.js"></script>
</body>
</html>
